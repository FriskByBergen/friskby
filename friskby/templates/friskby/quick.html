{% extends "friskby/friskby_base.html" %}
{% block title %} quick {% endblock %}

{% block js %}
  <script src="https://openlayers.org/en/v3.20.0/build/ol.js" type="text/javascript"></script>
  <script type="text/javascript">
    window.onload = function() {
      var map = new ol.Map({
        target: 'map',
        layers: [
          new ol.layer.Tile({
            source: new ol.source.OSM()
          })
        ],
        view: new ol.View({
          center: ol.proj.fromLonLat([5.3349616, 60.3940185]),
          zoom: 11
        })
      });
    }
  </script>
{% endblock %}

{% block css %}
  <link rel="stylesheet" href="https://openlayers.org/en/v3.20.0/css/ol.css" type="text/css">
  <style>
    .map {
      height: 400px;
      width: 100%;
    }
  </style>
{% endblock %}

{% block body %}
<h1>Friskby</h1>
<div id="sensorlist">
  <h2>Measurements</h2>
  <table>
    <tr><th>Location</th><th>PM 2.5</th><th>PM 10</th><th>Last update</th></tr>
{% for d in device_rows %}
    <tr><td>{{d.locname}}</td><td>{{d.pm25}}</td><td>{{d.pm10}}</td><td>{{d.time}}</td></tr>
{% endfor %}
  </table>
</div>

<div id="map" style="width:30%; height:30%">

</div>

{% endblock %}
