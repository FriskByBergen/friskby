{% extends "friskby/friskby_base.html" %}
{% block title %} Friskby {% endblock %}

{% block js %}
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="http://code.highcharts.com/highcharts-more.js"></script>
  <script src="https://openlayers.org/en/v3.20.0/build/ol.js" type="text/javascript"></script>
  <script src="{{ STATIC_URL }}js/quick/map.js"></script>
  <script src="{{ STATIC_URL }}js/quick/chart.js"></script>
  <script type="text/javascript">
    var values = {{device_json|safe}};
    window.onload = function() {
      var map = createmap(); // from map.js
      var chart = createchart(); // from chart.js
      map.onSelect(function(id) {
        chart.select(id);
      });
    };
  </script>
{% endblock %}

{% block css %}

{% endblock %}

{% block body %}
<h1>Friskby oversikt for {{date}}</h1>
<div id="sensorlist">
  <h2>Measurements</h2>
  <table>
    <tr><th>Location</th><th>PM 2.5</th><th>PM 10</th><th>Last update</th></tr>
{% for d in device_rows %}
    <tr><td>{{d.locname}}</td><td>{{d.pm25}}</td><td>{{d.pm10}}</td><td>{{d.time}}</td></tr>
{% endfor %}
  </table>
</div>

<div id="map" style="max-width:800px; height: 300px">

</div>

<div id="chart" style="max-width:800px; height: 300px">

</div>

{% endblock %}
